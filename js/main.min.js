(()=>{var o={endpoint:"https://formspree.io/f/xjgoqzzd",enabled:!0,successRedirect:null};function i(){document.querySelectorAll(".signup-form").forEach(function(e){e.addEventListener("submit",c);var t,s=e.querySelector('input[type="email"]'),n=(s&&(s.addEventListener("blur",function(){s.value.trim()&&l(s)}),s.addEventListener("input",function(){clearTimeout(t),s.value.trim()?t=setTimeout(function(){var e=s,t=e.value.trim(),n=e.getAttribute("aria-describedby");n&&document.getElementById(n),(t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?(d(e),r):(t.includes("@")&&t.indexOf("@")<t.length-1&&d(e),a):d)(e)},300):d(s)}),s.addEventListener("change",function(){s.value.trim()&&l(s)})),e.querySelector('input[name="consent"]'));n&&n.addEventListener("change",function(){var e;n.checked?(u(n),(e=(e=n).closest(".form-checkbox-label"))&&e.classList.add("is-valid")):(e=(e=n).closest(".form-checkbox-label"))&&e.classList.remove("is-valid")})})}function r(e){e.classList.add("is-valid")}function a(e){e.classList.remove("is-valid")}function c(e){e.preventDefault();var t,n,s,a,r,i=e.target;(e=>{var t=!0;return l(e.querySelector('input[type="email"]'))||(t=!1),t=(e=>{var t=(t=e.getAttribute("aria-describedby"))?document.getElementById(t):null,n=e.closest(".form-checkbox-label");if(e.checked)return u(e),1;n&&n.classList.add("is-invalid"),t&&(t.textContent="You must agree to receive updates")})(e.querySelector('input[name="consent"]'))?t:!1})(i)&&(e=i.querySelector('input[type="email"]'),t=i.querySelector('input[name="user_type"]:checked'),n=i.querySelector('input[name="consent"]'),s={email:e.value.trim(),user_type:t?t.value:"property_owner",consent:n.checked?"yes":"no",timestamp:(new Date).toISOString(),source:window.location.href,form_location:i.getAttribute("data-form-location")||"unknown",_subject:"New Plowshare Waitlist Signup"},v(i,!0),o.enabled?(a=i,r=s,fetch(o.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)}).then(function(e){if(v(a,!1),!e.ok)return e.json().then(function(e){throw new Error(e.error||"Submission failed")});o.successRedirect?window.location.href=o.successRedirect:(f(a,r.email),m(r))}).catch(function(e){v(a,!1);var t=a,n=e.message||"Something went wrong. Please try again.",s=t.querySelector(".form-submit-error"),r=(s&&s.remove(),document.createElement("div"));r.className="form-submit-error",r.setAttribute("role","alert"),r.setAttribute("aria-live","assertive"),r.innerHTML="<p>"+h(n)+"</p>",(s=t.querySelector('button[type="submit"]'))?s.parentNode.insertBefore(r,s):t.appendChild(r),setTimeout(function(){r.parentNode&&r.remove()},5e3),console.error("Form submission error:",e)})):setTimeout(function(){v(i,!1),f(i,s.email),m(s)},1e3))}function l(e){var t=e.value.trim(),n=e.getAttribute("aria-describedby"),n=n?document.getElementById(n):null;if(t){if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return d(e),r(e),1;s(e,n,"Please enter a valid email address")}else s(e,n,"Please enter your email address")}function s(e,t,n){e.classList.add("is-invalid"),e.classList.remove("is-valid"),t&&(t.textContent=n,t.classList.add("is-visible")),e.setAttribute("aria-invalid","true")}function d(e){var t=e.getAttribute("aria-describedby"),t=t?document.getElementById(t):null;e.classList.remove("is-invalid"),t&&(t.textContent="",t.classList.remove("is-visible")),e.removeAttribute("aria-invalid")}function u(e){var t=e.getAttribute("aria-describedby"),t=t?document.getElementById(t):null,e=e.closest(".form-checkbox-label");e&&e.classList.remove("is-invalid"),t&&(t.textContent="")}function v(e,t){var n=e.querySelector('button[type="submit"]'),e=e.querySelectorAll("input");t?(n.classList.add("is-loading"),n.disabled=!0,n.setAttribute("aria-busy","true"),e.forEach(function(e){e.disabled=!0})):(n.classList.remove("is-loading"),n.disabled=!1,n.removeAttribute("aria-busy"),e.forEach(function(e){e.disabled=!1}))}function f(e,t){e.innerHTML='<div class="form-success" role="status" aria-live="polite"><h3>You\'re on the list!</h3><p>We\'ll send updates to <strong>'+h(t)+"</strong> when Plowshare launches in your area.</p></div>",e.classList.add("is-success")}function m(e){try{var t=JSON.parse(localStorage.getItem("plowshare_submissions")||"[]");t.push(e),localStorage.setItem("plowshare_submissions",JSON.stringify(t))}catch(e){console.log("Could not store submission:",e)}}function h(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML}function y(){var s,n,r,a,i,o,c,l,d,t,u,v,e,f=document.querySelector(".app-carousel");function m(){var e=window.innerWidth;c=1024<=e?4:768<=e||480<=e?2:1}function h(){var e,t;return 0===n.length?0:(e=n[0].getBoundingClientRect(),t=parseInt(getComputedStyle(s).gap)||24,e.width+t)}function y(e){void 0===e&&(e=!0);var t=h(),n=Math.max(0,l-c),n=-(o=Math.max(0,Math.min(o,n)))*t,t=(v=u=n,s.style.transition=e?"transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)":"none",s.style.transform="translateX("+n+"px)",Math.max(0,l-c));r&&(r.disabled=0===o),a&&(a.disabled=t<=o),i.forEach(function(e,t){t===o?(e.classList.add("is-active"),e.setAttribute("aria-selected","true")):(e.classList.remove("is-active"),e.setAttribute("aria-selected","false"))})}function p(){0<o&&(o--,y())}function b(){var e=Math.max(0,l-c);o<e&&(o++,y())}function L(e){return e.type.includes("mouse")?e.pageX:e.touches[0].clientX}function g(e){d=!0,t=L(e),s.classList.add("is-dragging")}function E(e){d&&(e=L(e),u=v+(e-t),s.style.transform="translateX("+u+"px)")}function S(){var e,t;d&&(d=!1,s.classList.remove("is-dragging"),((e=u-v)<-(t=.2*h())?b:t<e?p:y)())}f&&(s=f.querySelector(".carousel-track"),n=f.querySelectorAll(".carousel-slide"),r=f.querySelector(".carousel-nav-prev"),a=f.querySelector(".carousel-nav-next"),i=f.querySelectorAll(".carousel-indicator"),0!==n.length)&&(o=0,c=1,l=n.length,d=!1,v=u=t=0,r&&r.addEventListener("click",p),a&&a.addEventListener("click",b),i.forEach(function(e,n){e.addEventListener("click",function(){var e,t;e=n,t=Math.max(0,l-c),o=Math.max(0,Math.min(e,t)),y()})}),s.addEventListener("touchstart",g,{passive:!0}),s.addEventListener("touchmove",E,{passive:!0}),s.addEventListener("touchend",S),s.addEventListener("mousedown",g),s.addEventListener("mousemove",E),s.addEventListener("mouseup",S),s.addEventListener("mouseleave",function(){d&&S()}),s.addEventListener("dragstart",function(e){e.preventDefault()}),f.addEventListener("keydown",function(e){"ArrowLeft"===e.key?p():"ArrowRight"===e.key&&b()}),window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){m(),y(!1)},100)}),m(),y(!1))}function p(){var s=document.querySelector(".faq-accordion");s&&s.querySelectorAll(".faq-item").forEach(function(r){var a=r.querySelector(".faq-question"),i=r.querySelector(".faq-answer");a&&i&&(a.addEventListener("click",function(){var e,t,n,s="true"===a.getAttribute("aria-expanded");e=r,t=a,n=i,!s?(t.setAttribute("aria-expanded","true"),n.removeAttribute("hidden"),e.classList.add("is-open"),n.style.maxHeight=n.scrollHeight+"px"):(t.setAttribute("aria-expanded","false"),e.classList.remove("is-open"),n.style.maxHeight="0",setTimeout(function(){"false"===t.getAttribute("aria-expanded")&&n.setAttribute("hidden","")},300))}),a.addEventListener("keydown",function(e){var t=s.querySelectorAll(".faq-question"),n=Array.from(t).indexOf(a);switch(e.key){case"ArrowDown":e.preventDefault(),n<t.length-1&&t[n+1].focus();break;case"ArrowUp":e.preventDefault(),0<n&&t[n-1].focus();break;case"Home":e.preventDefault(),t[0].focus();break;case"End":e.preventDefault(),t[t.length-1].focus()}}))})}function b(){var t,n;"IntersectionObserver"in window?(t=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("is-visible"),t.unobserve(e.target))})},{root:null,rootMargin:"0px 0px -50px 0px",threshold:.1}),document.querySelectorAll(".reveal, .reveal-left, .reveal-right, .reveal-scale").forEach(function(e){t.observe(e)}),document.querySelectorAll(".section h2").forEach(function(e){e.classList.contains("reveal")||e.classList.contains("is-visible")||e.classList.add("reveal")}),document.querySelectorAll(".features-intro, .how-it-works-intro, .pricing-intro, .testimonials-intro, .faq-intro, .signup-intro").forEach(function(e){e.classList.contains("reveal")||(e.classList.add("reveal"),e.classList.add("reveal-delay-1"))}),document.querySelectorAll(".feature-card").forEach(function(e,t){e.classList.contains("reveal")||(e.classList.add("reveal"),e.classList.add("reveal-delay-"+Math.min(t+1,5)))}),document.querySelectorAll(".step-card").forEach(function(e,t){e.classList.contains("reveal-scale")||(e.classList.add("reveal-scale"),e.classList.add("reveal-delay-"+Math.min(t+1,5)))}),document.querySelectorAll(".pricing-card, .driver-earnings-card").forEach(function(e,t){e.classList.contains("reveal")||(e.classList.add("reveal"),e.classList.add("reveal-delay-"+Math.min(t+1,5)))}),document.querySelectorAll(".testimonial-card").forEach(function(e,t){e.classList.contains("reveal")||(e.classList.add("reveal"),e.classList.add("reveal-delay-"+Math.min(t+1,5)))}),document.querySelectorAll(".faq-item").forEach(function(e,t){e.classList.contains("reveal")||(e.classList.add("reveal"),e.classList.add("reveal-delay-"+Math.min(t+1,5)))}),document.querySelectorAll(".hero-benefits li").forEach(function(e,t){e.classList.contains("reveal")||(e.classList.add("reveal"),e.classList.add("reveal-delay-"+Math.min(t+1,5)))}),document.querySelectorAll(".driver-benefits").forEach(function(e){e.classList.contains("reveal")||e.classList.add("reveal")}),document.querySelectorAll(".pricing-callout").forEach(function(e){e.classList.contains("reveal-scale")||e.classList.add("reveal-scale")}),document.querySelectorAll(".how-it-works-cta").forEach(function(e){e.classList.contains("reveal")||e.classList.add("reveal")}),"IntersectionObserver"in window&&(n=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("is-visible"),n.unobserve(e.target))})},{root:null,rootMargin:"0px 0px -50px 0px",threshold:.1}),document.querySelectorAll(".reveal:not(.is-visible), .reveal-left:not(.is-visible), .reveal-right:not(.is-visible), .reveal-scale:not(.is-visible)").forEach(function(e){n.observe(e)}))):document.querySelectorAll(".reveal, .reveal-left, .reveal-right, .reveal-scale").forEach(function(e){e.classList.add("is-visible")})}function e(){function e(){10<window.scrollY?r.classList.add("is-scrolled"):r.classList.remove("is-scrolled"),t=!1}var t,n,s,r,a;n=document.querySelector(".nav-toggle"),s=document.querySelector(".nav-menu"),r=document.querySelector(".site-header"),n&&s&&(n.addEventListener("click",function(){var e="true"===n.getAttribute("aria-expanded");n.setAttribute("aria-expanded",!e),s.classList.toggle("is-open"),document.body.style.overflow=e?"":"hidden"}),s.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){n.setAttribute("aria-expanded","false"),s.classList.remove("is-open"),document.body.style.overflow=""})}),document.addEventListener("keydown",function(e){"Escape"===e.key&&s.classList.contains("is-open")&&(n.setAttribute("aria-expanded","false"),s.classList.remove("is-open"),document.body.style.overflow="",n.focus())}),document.addEventListener("click",function(e){!s.classList.contains("is-open")||s.contains(e.target)||n.contains(e.target)||(n.setAttribute("aria-expanded","false"),s.classList.remove("is-open"),document.body.style.overflow="")}),r)&&(t=!10,window.addEventListener("scroll",function(){t||(window.requestAnimationFrame(e),t=!0)},{passive:!0}),e()),(a=document.getElementById("current-year"))&&(a.textContent=(new Date).getFullYear()),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){var t,n=this.getAttribute("href");"#"!==n&&(t=document.querySelector(n))&&(e.preventDefault(),t.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,"",n))})}),i(),y(),p(),b()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})();